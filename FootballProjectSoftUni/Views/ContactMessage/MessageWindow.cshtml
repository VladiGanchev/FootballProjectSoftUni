@using FootballProjectSoftUni.Core.Models.Message
@model ReplyFormViewModel

@{
    ViewData["Title"] = "Съобщение";
}

<section class="container py-4">

    <div class="text-center mb-4">
        <h2 class="page-title mb-1">
            <i class="bi bi-envelope-open-fill me-2"></i>
            @ViewData["Title"]
        </h2>
        <p class="text-muted mb-0">
            Прегледай съобщението и при нужда изпрати отговор.
        </p>
    </div>

    <div class="admin-form-card mx-auto">

        <div class="mb-3">
            <span class="fw-bold text-muted">
                <i class="bi bi-chat-left-text-fill me-2"></i>Тема
            </span>
            <h5 class="mt-1 fw-bold">@Model.Subject</h5>
        </div>

        @if (!string.IsNullOrWhiteSpace(Model.PreviousMessageText))
        {
            <div class="message-box message-box--previous mb-3">
                <div class="message-box__title">
                    <i class="bi bi-clock-history me-2"></i>
                    Предишно съобщение
                </div>
                <p class="mb-0">@Model.PreviousMessageText</p>
            </div>
        }

        <div class="message-box message-box--current mb-3">
            <div class="message-box__title">
                <i class="bi bi-reply-fill me-2"></i>
                Получено съобщение
            </div>
            <p class="mb-0">@Model.CurrentMessageText</p>
        </div>

        @if (Model.CanReply)
        {
            <div class="text-end">
                <a asp-controller="ContactMessage"
                   asp-action="Reply"
                   asp-route-messageId="@Model.ParentMessageId"
                   class="btn btn-primary tg-action-btn">
                    <i class="bi bi-send-fill me-2"></i>
                    Отговори
                </a>
            </div>
        }

    </div>

</section>
